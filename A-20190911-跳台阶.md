# 跳台阶

https://www.nowcoder.com/practice/8c82a5b80378478f9484d87d1c5f12a4

## 题目描述

一只青蛙一次可以跳上1级台阶，也可以跳上2级。求该青蛙跳上一个n级的台阶总共有多少种跳法（先后次序不同算不同的结果）。

**思路： **

1. 在一个N级的台阶上，最少能跳0次2级台阶，即每次都只跳1级台阶。最多能跳N/2次2级台阶。

2. 对 0 - N/2种不同的跳台阶方法，分别计算出每种方法所有的排列组合数。

   * 假设在 0 - N/2内选择一个数A，即表示一共有A次跳2级台阶，则跳上N级台阶一共需要N-A次。

   * 在N-A步中，跳A次2级台阶一共有:
     $$
     \binom{N-A}{A}
     $$
     

第一版代码如下：

```java
public class Solution {
    public int JumpFloor(int target) {
        int sum = 0;
        //一共N级，则可以选择的跳2级的次数范围为0-n/2,依次算出每种次数对应的跳法
        for (int i = 0; i <= target/2; i++) {
            sum += jumpFloorTypes(i,target);
        }
        return sum;
    }

    public int jumpFloorTypes (int jump2Stairs,int target){
        //一共N级的台阶，如果有 jump2Staris次跳2级，则跳上N级台阶总共需要跳 N-jump2Staris步
        int total = target - jump2Stairs ;
        
        //在total步中，计算出有jump2Stairs次跳2级的所有跳法
        return combinationNum(total,jump2Stairs);
    }
    //实现求组合数C(n,m)
    public int combinationNum (int total, int selection){// 计算组合数C(n,m) 
        if(total == selection || selection == 0){
            return 1;
        }
        if(selection > total /2){
            selection = total -selection;
        }
        long denominator = selection; //分母，假设total为7 selection为3，则分母为 7*6*5 分子为3*2*1
        long numerator = total; //分子
        for (int i = 1; i < selection ; i++) {
            numerator *= total-i;
            denominator *= selection-i;

        }
        return  (int)(numerator/denominator);
        
    } 
        
    
}
```

![1568165197292](C:\Users\xjw\AppData\Roaming\Typora\typora-user-images\1568165197292.png)

但是这题给出的考察知识点是递归，上面一种解法完全没有用到递归。。。。想了一段时间也想不出，看了讨论区的参考答案，总结了一下递归的思路



1. 能用递归解决的问题，必然可以将问题分解为  一个小问题+一个子问题。

   在本例中，一个小问题是, 第一步如何选择，是选跳1个台阶，还是2个台阶；

   因为第一步有两种选择， 则把一个大问题，分解成了两个子问题；

   第一个子问题是跳完了1个台阶之后剩下的n-1阶台阶问题 f(n-1），

   第二个子问题是跳完了2个台阶之后剩下的n-2阶台阶问题 f(n-2）。

   即 f(n) = f(n-1) + f(n-2)

2. 其次，是递归问题的话，一定会有递归结束（临界）条件。

   在本例中递归结束的条件是：只有一个台阶，或者只有两个台阶，即f(1) =1, f(2)=2

   

